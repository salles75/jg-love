/* Tema dark romântico */
:root {
  --bg-0: #0b0f14;
  --bg-1: #0e141b;
  --bg-2: #111a22;
  --text: #e7e9ee;
  --muted: #aab1bd;
  --rose: #d32f2f;
  --rose-deep: #b71c1c;
  --accent: #9c27b0;
  --green: #2c8c5b;
  --shadow: rgba(0,0,0,0.5);
  --crimson-0: #1b0b0e;
  --crimson-1: #2a0f14;
  --crimson-2: #3a1219;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  color: var(--text);
  /* Degradê centralizado no meio da página */
  background:
    radial-gradient(1200px 800px at 50% 50%, #52111c 0%, #380e15 30%, #260c12 50%, #14070a 70%, #0b0f14 100%);
  overflow: hidden; /* remove scroll */
  position: fixed;
  width: 100%;
  height: 100%;
}

#bg-effects::before,
#bg-effects::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
}

/* Partículas suaves */
#bg-effects::before {
  background-image:
    radial-gradient(2px 2px at 20% 30%, #ffd1dc66 40%, transparent 41%),
    radial-gradient(1.8px 1.8px at 70% 60%, #ffb3c780 40%, transparent 41%),
    radial-gradient(1.2px 1.2px at 40% 80%, #ffd1dc55 40%, transparent 41%),
    radial-gradient(1.6px 1.6px at 80% 25%, #ffc2d480 40%, transparent 41%);
  animation: twinkle 6s infinite linear, floatUp 14s linear infinite;
  opacity: .9;
}

/* Vinheta */
#bg-effects::after {
  /* Vinheta suave para manter o clima sem escurecer demais */
  background: radial-gradient(800px 400px at 50% -10%, transparent, rgba(0,0,0,.25) 60%),
              radial-gradient(1100px 700px at 50% 120%, transparent, rgba(0,0,0,.45) 70%);
  animation: gradientShift 14s ease-in-out infinite alternate;
}

@keyframes gradientShift {
  0% { filter: hue-rotate(0deg) saturate(1); }
  100% { filter: hue-rotate(-6deg) saturate(1.1); }
}

@keyframes twinkle {
  0% { transform: translateY(0px); }
  50% { transform: translateY(6px); }
  100% { transform: translateY(0px); }
}
@keyframes floatUp {
  0% { background-position: 0% 100%, 30% 100%, 60% 100%, 90% 100%; }
  100% { background-position: 0% 0%, 30% 0%, 60% 0%, 90% 0%; }
}

.container {
  height: 100vh;
  height: 100dvh;
  max-width: 980px;
  margin: 0 auto;
  padding: 2vh 24px 2vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* inicia do topo para não cortar conteúdo */
  gap: min(2vh, 20px);
  overflow-y: auto;
  overflow-x: hidden;
}

/* Páginas centralizadas (love/quiz) */
.center-page .container { justify-content: center; }

/* Scrollbar estilizada (WebKit) para a área que rola */
.container::-webkit-scrollbar { width: 10px; }
.container::-webkit-scrollbar-track { background: #0e151c; border-radius: 999px; }
.container::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #ff5e9f, #ff2e7a); border-radius: 999px; }
.container::-webkit-scrollbar-thumb:hover { filter: brightness(1.08); }

/* Firefox */
.container { scrollbar-width: thin; scrollbar-color: #ff2e7a #0e151c; }

.hero { text-align: center; flex-shrink: 0; }
.title {
  font-family: 'Poppins', sans-serif;
  font-weight: 700;
  font-size: clamp(42px, 6vw, 72px);
  margin: 0;
  letter-spacing: .5px;
  text-shadow: 0 6px 30px rgba(211,47,47,.18), 0 2px 0 var(--shadow);
}
.subtitle {
  font-family: 'Playfair Display', serif;
  font-weight: 400;
  color: var(--muted);
  margin: 6px 0 0;
}

.bouquet-wrap {
  position: relative;
  margin: 0;
  display: grid;
  place-items: center;
  flex-shrink: 0;
}

/* Esconde o buquê quando não estamos na tela inicial */
body.no-bouquet .bouquet-wrap { display: none; }
body.no-bouquet .hero { margin-bottom: 6px; }

.bouquet {
  width: min(90vw, 420px);
  height: auto;
  filter: drop-shadow(0 40px 60px rgba(0,0,0,.35));
}

/* Suave balanço do buquê */
.bouquet-sway { animation: sway 6.5s ease-in-out infinite; transform-origin: 50% 80%; }
@keyframes sway {
  0%, 100% { transform: rotate(-1deg) translateY(0); }
  50% { transform: rotate(1.4deg) translateY(2px); }
}

/* Pulsar sutil das rosas */
.rose circle:nth-child(1) { animation: pulse 3.6s ease-in-out infinite; }
.rose circle:nth-child(2) { animation: pulse 4.2s ease-in-out infinite; }
.rose circle:nth-child(3) { animation: pulse 5s ease-in-out infinite; }
@keyframes pulse {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.15); }
}

.hint { color: var(--muted); margin-top: 10px; font-size: .95rem; text-align: center; }

.qa { width: 100%; max-width: 720px; margin: 0 auto; display: flex; justify-content: center; flex-shrink: 0; min-height: 220px; opacity: 1; transform: translateY(0); transition: opacity .4s ease, transform .4s ease; }
.hidden { visibility: hidden; opacity: 0; pointer-events: none; transform: translateY(6px); }

.card { background: transparent; border: 0; border-radius: 0; padding: 0; box-shadow: none; text-align: center; }
.question { font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1.4rem; margin: 0 0 14px; display: inline-block; transform: none; }
.answers { display: grid; gap: 10px; place-items: center; }
.answer-btn {
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid #2a3846;
  background: #111821;
  color: var(--text);
  text-align: center;
  cursor: pointer;
  transition: background .15s ease, transform .1s ease, border-color .15s ease;
}
.answer-btn:hover { background: #141e29; border-color: #354757; }
.answer-btn:active { transform: translateY(1px); }

/* Layout da pergunta Sim/Não */
.yn { display: flex; gap: 12px; justify-content: center; }
.yn .btn {
  appearance: none;
  border: 0;
  padding: 12px 18px;
  border-radius: 14px;
  background: linear-gradient(90deg, #ff5e9f, #ff2e7a);
  color: #fff;
  font-weight: 600;
  letter-spacing: .2px;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(255,46,122,.35), inset 0 0 0 1px #ffffff22;
  transition: transform .15s ease, box-shadow .15s ease, filter .15s ease, background .15s ease;
  min-width: 130px; /* tamanho igual para Sim e Não */
  text-align: center;
}
.yn .btn:hover { transform: translateY(-1px); filter: brightness(1.07); box-shadow: 0 12px 26px rgba(255,46,122,.45), inset 0 0 0 1px #ffffff33; }
.yn .btn:active { transform: translateY(1px); }

/* Botão Não que foge: posição relativa no container para podermos mover */
.escape-wrap { position: relative; height: 56px; width: 240px; }
.escape { position: absolute; left: 0; top: 0; white-space: nowrap; }

.footer {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  display: grid; place-items: center;
  padding: 14px 12px;
  color: var(--muted);
  background: linear-gradient(180deg, transparent, rgba(0,0,0,.25));
}

@media (max-width: 480px) {
  .container { padding: 2vh 16px; gap: min(1.5vh, 16px); }
  .subtitle { font-size: 1rem; }
  .bouquet { width: min(85vw, 380px); }
  .title { font-size: clamp(32px, 8vw, 56px); }
}

/* Partículas dentro do buquê (no SVG) */
.bouquet .spark { opacity: .85; animation: rise 4.5s linear infinite; }
.bouquet .spark.d2 { animation-duration: 5.4s; animation-delay: .6s; }
.bouquet .spark.d3 { animation-duration: 6s; animation-delay: 1.2s; }
.bouquet .spark.d4 { animation-duration: 5s; animation-delay: .9s; }
@keyframes rise {
  0% { transform: translateY(0) scale(.9); opacity: .0; }
  10% { opacity: 1; }
  100% { transform: translateY(-70px) scale(1); opacity: 0; }
}

/* Respeita usuários que preferem menos movimento */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
}

/* --- Amor: card com foto, barra e corações --- */
.love-card { background: linear-gradient(180deg, #0f161d, #0b1117); border: 1px solid #1f2a33; border-radius: 18px; padding: 20px; box-shadow: 0 14px 36px rgba(0,0,0,.4); max-width: 560px; margin: 0 auto; }
.love-photo { width: min(90vw, 560px); aspect-ratio: 4 / 3; margin: 0 auto 18px; border-radius: 18px; overflow: hidden; box-shadow: 0 8px 20px rgba(0,0,0,.35); }
.love-photo img { width: 100%; height: 100%; object-fit: cover; display: block; }
.love-title { font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin: 6px 0 14px; }

.progress { background: #171f28; border: 1px solid #2a3846; border-radius: 999px; height: 16px; padding: 3px; box-shadow: inset 0 0 0 1px #ffffff10; }
.progress-bar { height: 100%; width: 0%; border-radius: 999px; background: linear-gradient(90deg, #ff5e9f, #ff2e7a); box-shadow: 0 6px 16px rgba(255,46,122,.35); transition: width .25s ease; }
.progress-meta { color: var(--muted); margin-top: 10px; font-size: .95rem; }

.hearts { display: flex; gap: 12px; justify-content: center; margin-top: 14px; }
.heart-btn { width: 46px; height: 46px; border-radius: 12px; border: 1px solid #2a3846; background: #111821; color: #fff; display: grid; place-items: center; cursor: pointer; transition: transform .12s ease, background .15s ease, border-color .15s ease; }
.heart-btn:hover { transform: translateY(-1px); background: #141e29; border-color: #354757; }
.heart-broken { color: #ff6b6b; }
.heart-full { color: #ff5e9f; }


/* --- Quiz: opções em barra --- */
.choices { display: grid; gap: 14px; }
.choice-btn {
  width: 100%;
  padding: 16px 18px;
  min-height: 56px; /* mantém altura padrão independente do tamanho da pergunta */
  border-radius: 16px;
  border: 0;
  text-align: left;
  color: #fff;
  background: linear-gradient(90deg, #ff5e9f, #ff2e7a);
  box-shadow: 0 10px 24px rgba(255,46,122,.35), inset 0 0 0 1px #ffffff22;
  cursor: pointer;
  font-weight: 600;
  letter-spacing: .2px;
  transition: transform .12s ease, filter .15s ease, box-shadow .15s ease;
}
.choice-btn:hover { transform: translateY(-1px); filter: brightness(1.07); box-shadow: 0 12px 26px rgba(255,46,122,.45), inset 0 0 0 1px #ffffff33; }
.choice-btn:active { transform: translateY(1px); }

/* Estados de resposta */
.choice-correct { background: linear-gradient(90deg, #2ecc71, #27ae60) !important; box-shadow: 0 10px 24px rgba(39,174,96,.35) !important; }
.choice-wrong { background: linear-gradient(90deg, #e74c3c, #c0392b) !important; box-shadow: 0 10px 24px rgba(231,76,60,.35) !important; }

/* Transição de saída para próxima pergunta */
@keyframes slideOutLeftFade {
  0% { transform: translateX(0); opacity: 1; }
  100% { transform: translateX(-40px); opacity: 0; }
}
.slide-out-left {
  animation: slideOutLeftFade .4s ease forwards;
}


/* --- Resultados: corações subindo nas laterais --- */
.result-hearts { position: fixed; inset: 0; pointer-events: none; }
.hearts-side { position: absolute; bottom: -40px; display: flex; flex-direction: column; gap: 18px; }
.hearts-left { left: 12px; }
.hearts-right { right: 12px; }
.heart-rise { font-size: var(--size, 20px); opacity: .9; filter: drop-shadow(0 6px 14px rgba(255,46,122,.35)); animation: heartRise var(--dur, 7s) linear infinite; }
@keyframes heartRise {
  0% { transform: translateY(0) translateX(0) scale(.9); opacity: 0; }
  10% { opacity: 1; }
  50% { transform: translateY(-50vh) translateX(8px) scale(1); }
  100% { transform: translateY(-100vh) translateX(-8px) scale(1.05); opacity: 0; }
}

/* --- Página Nós: Galeria e Contador --- */
.gallery-section { width: 100%; display: flex; flex-direction: column; align-items: center; gap: 32px; }
.gallery-section { margin-top: 8px; }

.photo-gallery { position: relative; width: 100%; max-width: 520px; }

.photo-container { width: 100%; border-radius: 18px; overflow: hidden; box-shadow: 0 12px 32px rgba(0,0,0,.45); }
.photo-container img { width: 100%; height: auto; display: block; }

.gallery-nav { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,.85); border: 0; border-radius: 50%; width: 42px; height: 42px; font-size: 28px; font-weight: 600; color: #222; cursor: pointer; display: grid; place-items: center; transition: background .2s ease, transform .15s ease; box-shadow: 0 4px 12px rgba(0,0,0,.25); }
.gallery-nav:hover { background: rgba(255,255,255,.95); transform: translateY(-50%) scale(1.08); }
.gallery-nav.prev { left: 12px; }
.gallery-nav.next { right: 12px; }

.photo-indicators { display: flex; gap: 10px; justify-content: center; margin-top: 14px; }
.photo-indicator { width: 8px; height: 8px; border-radius: 50%; background: rgba(255,255,255,.35); transition: background .2s ease, width .2s ease; cursor: pointer; }
.photo-indicator.active { background: rgba(255,255,255,.85); width: 24px; border-radius: 999px; }

.countdown-title { color: #fff; opacity: .9; font-family: 'Poppins', sans-serif; font-weight: 600; letter-spacing: .4px; }
.countdown-section { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
.countdown-box { background: linear-gradient(180deg, #8b1538, #6b0f28); border-radius: 12px; padding: 16px 18px; min-width: 100px; text-align: center; box-shadow: 0 6px 18px rgba(139,21,56,.35); }
.countdown-number { display: block; font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 2rem; color: #fff; margin-bottom: 4px; text-shadow: 0 2px 8px rgba(0,0,0,.3); font-variant-numeric: tabular-nums; letter-spacing: 1px; }
.countdown-label { display: block; font-family: 'Poppins', sans-serif; font-size: .9rem; color: rgba(255,255,255,.9); text-transform: uppercase; letter-spacing: .5px; }

/* Carta/Texto com fade-in no scroll */
.letter { max-width: 780px; margin: 12px auto 60px; padding: 0 16px; }
.letter p { line-height: 1.9; color: var(--text); font-size: 1.02rem; margin: 16px 0; }
.reveal { opacity: 0; transform: translateY(12px); transition: opacity .6s ease, transform .6s ease; }
.reveal.in { opacity: 1; transform: translateY(0); }

